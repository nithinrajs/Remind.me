<html>
    <head>
    <title>LOGIN PAGE</title>
    <style>
                    /* Bordered form */
            form {
                /* border: 3px solid #f1f1f1; */
                margin: 0 auto; 
                widows: 300px;    
            }

            .button, input[type=submit] {
                background-color: #1c87c9;
                border: none;
                color: white;
                /* padding: 20px 34px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 20px;
                margin: 4px 2px;
                cursor: pointer; */
                
                text-decoration: none;
                width: 50%;
                padding: 12px 20px;
                margin: 8px 0;
                display: inline-block;
                border: 1px solid #ccc;
                box-sizing: border-box;
                text-align: center;
            }
            .Gbutton {
                background-color: #D75353;
                border: none;
                color: white;
                /* padding: 20px 34px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 20px;
                margin: 4px 2px;
                cursor: pointer; */
                
                text-decoration: none;
                width: 50%;
                padding: 12px 20px;
                margin: 8px 0;
                display: inline-block;
                border: 1px solid #ccc;
                box-sizing: border-box;
                text-align: center;
            }

            h2 {
                padding: 12px 20px;
            }
            .container {    
                margin: 0 auto; 
                widows: 300px; 
            }

            /* Full-width inputs */
            input[type=text], input[type=password]{
            width: 50%;
            padding: 12px 20px;
            margin: 8px 0;
            display: inline-block;
            border: 1px solid #ccc;
            box-sizing: border-box;
            }

            /* Set a style for all buttons */
            input[type=submit]{
            background-color: #4CAF50;
            color: white;
            padding: 14px 20px;
            margin: 8px 0;
            border: none;
            cursor: pointer;
            width: 50%;
            font-size: 15px;
            }

            /* Add a hover effect for buttons */
            input[type=submit]:hover {
            opacity: 0.8;
            }
            .button:hover, .Gbutton:hover {
                opacity: 0.8;
            }
    </style>
    </head>
    <body>
        <div class="container">
        <h2>Login Page</h2>
        <form name="login" action="/login" onsubmit="return validateForm()" method='POST'>
            <input type="text" name="username" placeholder="Username"><br>
            <input type="password" name="password" placeholder="Password"><br>
            <input type="submit" value="Sign In">
        </form><br>
        <a class="button" href="/register">Sign Up</a><br>

        <a class="Gbutton" id='auth'>Login with Google</a>
        </div>
    </body>
    <script>

            function getCookieValue(a) {
                var b = document.cookie.match('(^|[^;]+)\\s*' + a + '\\s*=\\s*([^;]+)');
                return b ? b.pop() : '';
            }

            function reqJSON(method, url, data) {
                    return new Promise((resolve, reject) => {
                        let xhr = new XMLHttpRequest();
                        xhr.open(method, url);
                        xhr.responseType = 'json';
                        xhr.onload = () => {
                            if (xhr.status >= 200 && xhr.status < 300) { resolve({status: xhr.status, data: xhr.response}); } else {
                            reject({status: xhr.status, data: xhr.response}); } }; xhr.onerror=()=> {
                            reject({status: xhr.status, data: xhr.response});
                        };
                        xhr.send(data);
                    });
                }
            
            document.addEventListener('DOMContentLoaded', () => {

                state = getCookieValue('state')
                nounce = getCookieValue('nounce')
                clientID = getCookieValue('clientID')
                console.log(document.cookie)
                URI = "https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id="+clientID+"&scope=openid%20email&state="+state+"&nonce="+nounce+"&redirect_uri=https%3A//remind-me-oauth.appspot.com/oidauth"
                // URI = "https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id="+clientID+"&scope=openid%20email&state="+state+"&nonce="+nounce+"&redirect_uri=https%3A//remind-me-1089.appspot.com/"
                document.getElementById("auth").href = URI;
            }
            );
            
            function validateForm() {
            var username = document.forms["login"]["username"].value;
            var password = document.forms["login"]["password"].value;
            if(username == '')
                {
                    alert("Enter username");
                    return false;
                } 
            else if(password == ""){
                    alert("Enter Password");
                    return false;
                }
            else {
                    return true;
            }
        }


        
        </script>
</html>