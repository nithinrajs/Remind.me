<html>
    <head>
        <title>REMIND ME!</title>
    </head>
    <body>
        <!-- TODO: Text Box with Submit Button -->
        <h1>This will remind you</h1>
        <div id='events'>
                <input id='input' type="text" placeholder="MM/DD/YYYY">
                <button id='btn'>Submit</button>
        </div>
    </body>

<script>
    function reqJSON(method, url, data) {
        return new Promise((resolve, reject) => {
        let xhr = new XMLHttpRequest();
        xhr.open(method, url);
        xhr.responseType = 'json';
        xhr.onload = () => {
            if (xhr.status >= 200 && xhr.status < 300) {
                resolve({status: xhr.status, data: xhr.response});
            } else {
                reject({status: xhr.status, data: xhr.response});
            }
        };
    xhr.onerror = () => {
      reject({status: xhr.status, data: xhr.response});
    };
    xhr.send(data);
  });
}

        // document.getElementById('btn').addEventListener('click', () => {
        //     let data = document.getElementById('input').value;
        //     console.log(data);
        // });

        document.addEventListener('DOMContentLoaded', () => {
        reqJSON('GET', '/events')
        .then(({status, data}) => {
        // Use the *data* argument to change what we see on the page.
        // It will look something like this:
        // {
        // "events": [
        // {"name": "Grandma's Birthday", "date": "08-05"},
        // {"name": "Independence Day", "date": "07-04"}
        // ]
        // }
        console.log(data);
        // There are better ways, but this is illustrative of the concept:
        let html = '';
        for (let event of data.events) {
        html += `${event.name}: ${event.date}<br>`;
        }
        document.getElementById('events').innerHTML = html;
        })
        .catch(({status, data}) => {
        // Display an error.
        document.getElementById('events').innerHTML = 'ERROR: ' +
        JSON.stringify(data);
        });
        });
</script>
</html>